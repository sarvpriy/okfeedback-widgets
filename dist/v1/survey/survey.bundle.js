({737:function(){var e,t=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function l(e){try{i(o.next(e))}catch(e){a(e)}}function s(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}i((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var n,o,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(l=0)),l;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return l.label++,{value:s[1],done:!1};case 5:l.label++,o=s[1],s=[0];continue;case 7:s=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){l=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){l.label=s[1];break}if(6===s[0]&&l.label<r[1]){l.label=r[1],r=s;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(s);break}r[2]&&l.ops.pop(),l.trys.pop();continue}s=t.call(e,l)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},o=(new FormData,{widgetId:window.okfeedbackid,widgetType:"survey",response:{answers:{}},source:{url:window.location.href,browser:(e=navigator.userAgent,e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"No browser detection"),userAgent:window.navigator.userAgent}});var r=function(e){switch(e){case 1:return"😞";case 2:return"😐";case 3:return"😊";case 4:return"😄";case 5:return"😍";default:return""}};!function(){var e=JSON.parse(document.getElementById("okfeedback-developer-feedback-survey").getAttribute("data-feedback-opts")),a=document.getElementById("okfeedback-developer-feedback-survey").getAttribute("data-customer-id");if(a&&"null"!==a&&"undefined"!==a){"localhost:3000"===window.location.host&&console.log(e);var l=e.title,s=e.greetingMessage,i=e.questions,d=document.getElementById("okfeedback-survey");if(d){d.style.background="#fff";var c=document.createElement("form");c.id="okfeedback-survey-form",c.style.display="flex",c.style.flexDirection="column",c.style.alignItems="center",c.style.gap="12px",c.style.border="1px solid #222",c.style.borderRadius="8px",c.style.padding="16px",c.style.alignItems="start",c.style.background="#fff";var u=document.createElement("h2");u.textContent=l,u.style.marginBottom="20px",u.style.fontSize="18px",u.style.fontWeight="bold",c.appendChild(u),i.forEach((function(e){var t=function(e){var t=e.field,n=e.fieldDetails,a=e.questionText,l=e.questionId,s=document.createElement("fieldset");s.id=l,s.style.width="100%";var i,d,c,u=document.createElement("label");switch(u.textContent=a,u.style.display="block",u.style.fontWeight="bold",u.style.fontSize="1.25rem",u.style.marginBottom="0.5rem",s.appendChild(u),t){case"Short Text":i=n,d=s,(c=document.createElement("input")).type="text",c.placeholder=i.placeholder||"answer...",c.style.width="100%",c.style.padding="8px",c.style.border="1px solid #d1d5db",c.style.borderRadius="4px",c.style.resize="none",c.style.outline="none",c.style.borderColor="#3b82f6",c.style.transition="border-color 0.3s",c.addEventListener("change",(function(e){"localhost:3000"===window.location.host&&console.log(e.target.value),o.response.answers[d.id]=e.target.value})),d.appendChild(c);break;case"Long Text":!function(e,t){var n=document.createElement("textarea");n.placeholder=e.placeholder||"answer...",n.rows=e.rows,n.style.width="100%",n.style.border="1px solid #d1d5db",n.style.padding="8px",n.style.borderRadius="4px",n.style.resize="none",n.addEventListener("change",(function(e){"localhost:3000"===window.location.host&&console.log(e.target.value),o.response.answers[t.id]=e.target.value})),t.appendChild(n)}(n,s);break;case"Multiple Choice":!function(e,t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="flex-start",n.style.width="100%",n.style.flexWrap="wrap",e.options.forEach((function(e){var r=document.createElement("button");r.style.padding="8px",r.style.border="1px solid #d1d5db",r.style.textAlign="start",r.style.borderRadius="0.375rem",r.style.marginRight="0.5rem",r.style.marginBottom="0.5rem",r.style.width="100%",r.textContent=e,r.style.transform="scale(1)",r.style.transition="transform 0.2s",r.addEventListener("mouseenter",(function(e){e.currentTarget.style.transform="scale(1.05)"})),r.addEventListener("mouseleave",(function(e){e.currentTarget.style.transform="scale(1)"})),r.addEventListener("click",(function(n){n.preventDefault(),"localhost:3000"===window.location.host&&console.log(e),o.response.answers[t.id]=e})),n.appendChild(r)})),t.appendChild(n)}(n,s);break;case"Ranking":!function(e,t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="flex-start",n.style.width="100%",n.style.flexWrap="wrap",e.items.forEach((function(e){var t=function(e){var t=document.createElement("button");return t.style.padding="8px",t.style.border="1px solid #d1d5db",t.style.textAlign="start",t.style.borderRadius="0.375rem",t.style.marginRight="0.5rem",t.style.marginBottom="0.5rem",t.style.width="100%",t.textContent=e,t}(e);n.appendChild(t)})),t.appendChild(n)}(n,s);break;case"Rating":!function(e,t){var n=document.createElement("div");n.style.display="flex",n.style.gap="8px";for(var a=function(a){var l=document.createElement("span");if(l.setAttribute("key",String(a)),l.style.fontSize="1.5rem",l.style.marginRight="0.5rem",l.style.cursor="pointer",l.style.transform="scale(1)",l.style.transition="transform 0.2s",e.useEmoji)l.textContent=r(a);else{var s=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("fill","none"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("stroke-width","1.5"),e.setAttribute("stroke","currentColor"),e.setAttribute("class","w-8 h-8");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t.setAttribute("d","M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.040.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.610l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.610l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"),e.appendChild(t),e}();l.appendChild(s)}l.addEventListener("mouseenter",(function(e){e.currentTarget.style.transform="scale(1.2)"})),l.addEventListener("mouseleave",(function(e){e.currentTarget.style.transform="scale(1)"})),l.addEventListener("click",(function(e){"localhost:3000"===window.location.host&&console.log("Selected rating: ".concat(a)),o.response.answers[t.id]=a})),n.appendChild(l)},l=1;l<=5;l++)a(l);t.appendChild(n)}(n,s);break;case"Dropdown":!function(e,t){var n=document.createElement("select");n.style.width="100%",n.style.padding="8px",n.style.borderRadius="4px",n.style.background="none",n.style.border="1px solid #ddd",e.options.forEach((function(e){var t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)})),n.addEventListener("change",(function(e){"localhost:3000"===window.location.host&&console.log(e.target.value),o.response.answers[t.id]=e.target.value})),t.appendChild(n)}(n,s)}return s}(e);o.response.answers[e.questionId]="",c.appendChild(t)}));var f,p=function(){var e=this,r=document.createElement("button");return r.textContent="Submit",r.style.padding="10px 20px",r.style.border="none",r.style.backgroundColor="#4caf50",r.style.color="white",r.style.cursor="pointer",r.style.borderRadius="4px",r.style.width="100%",r.style.marginTop="32px",r.style.fontWeight="600",r.addEventListener("mouseover",(function(){r.style.backgroundColor="#45a049"})),r.addEventListener("mouseout",(function(){r.style.backgroundColor="#4caf50"})),r.addEventListener("click",(function(r){return t(e,void 0,void 0,(function(){return n(this,(function(e){return r.preventDefault(),"localhost:3000"===window.location.host&&console.log("Button clicked!",o),fetch("/api/feedbacks",{method:"POST",body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){"localhost:3000"===window.location.host&&console.log(e)})).catch((function(e){console.error(e)})),[2]}))}))})),r}();c.appendChild(p),c.appendChild(((f=document.createElement("div")).id="okfeedback-powered-by",f.innerHTML='powered by <a href="https://www.okfeedback.io" style="color: blue;font-weight: 600;" target="_blank" >Okfeedback.io</a>',f.style.fontSize="10px",f)),d.appendChild(c);var y=document.createElement("p");y.textContent=s,y.id="okfeedback-survey-form-greeting",y.style.display="none",d.appendChild(y)}else console.error("Survey container not found.")}}()}})[737]();
//# sourceMappingURL=survey.bundle.js.map