({737:function(){var e,t=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{i(r.next(e))}catch(e){a(e)}}function l(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}i((r=r.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){s.label=l[1];break}if(6===l[0]&&s.label<o[1]){s.label=o[1],o=l;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(l);break}o[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},r=(new FormData,{widgetId:window.okfeedbackid,widgetType:"survey",response:{answers:{}},source:{url:window.location.href,browser:(e=navigator.userAgent,e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"No browser detection"),userAgent:window.navigator.userAgent}});var o=function(e){switch(e){case 1:return"😞";case 2:return"😐";case 3:return"😊";case 4:return"😄";case 5:return"😍";default:return""}};!function(){var e=JSON.parse(document.getElementById("okfeedback-developer-feedback-survey").getAttribute("data-feedback-opts")),a=document.getElementById("okfeedback-developer-feedback-survey").getAttribute("data-customer-id");if(a&&"null"!==a&&"undefined"!==a){console.log(e);var s=e.title,l=e.greetingMessage,i=e.questions,d=document.getElementById("okfeedback-survey");if(d){d.style.background="#fff";var c=document.createElement("form");c.id="okfeedback-survey-form",c.style.display="flex",c.style.flexDirection="column",c.style.alignItems="center",c.style.gap="12px",c.style.border="1px solid #222",c.style.borderRadius="8px",c.style.padding="16px",c.style.alignItems="start",c.style.background="#fff";var u=document.createElement("h2");u.textContent=s,u.style.marginBottom="20px",u.style.fontSize="18px",u.style.fontWeight="bold",c.appendChild(u),i.forEach((function(e){var t=function(e){var t=e.field,n=e.fieldDetails,a=e.questionText,s=e.questionId,l=document.createElement("fieldset");l.id=s,l.style.width="100%";var i,d,c,u=document.createElement("label");switch(u.textContent=a,u.style.display="block",u.style.fontWeight="bold",u.style.fontSize="1.25rem",u.style.marginBottom="0.5rem",l.appendChild(u),t){case"Short Text":i=n,d=l,(c=document.createElement("input")).type="text",c.placeholder=i.placeholder||"answer...",c.style.width="100%",c.style.padding="8px",c.style.border="1px solid #d1d5db",c.style.borderRadius="4px",c.style.resize="none",c.style.outline="none",c.style.borderColor="#3b82f6",c.style.transition="border-color 0.3s",c.addEventListener("change",(function(e){console.log(e.target.value),r.response.answers[d.id]=e.target.value})),d.appendChild(c);break;case"Long Text":!function(e,t){var n=document.createElement("textarea");n.placeholder=e.placeholder||"answer...",n.rows=e.rows,n.style.width="100%",n.style.border="1px solid #d1d5db",n.style.padding="8px",n.style.borderRadius="4px",n.style.resize="none",n.addEventListener("change",(function(e){console.log(e.target.value),r.response.answers[t.id]=e.target.value})),t.appendChild(n)}(n,l);break;case"Multiple Choice":!function(e,t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="flex-start",n.style.width="100%",n.style.flexWrap="wrap",e.options.forEach((function(e){var o=document.createElement("button");o.style.padding="8px",o.style.border="1px solid #d1d5db",o.style.textAlign="start",o.style.borderRadius="0.375rem",o.style.marginRight="0.5rem",o.style.marginBottom="0.5rem",o.style.width="100%",o.textContent=e,o.style.transform="scale(1)",o.style.transition="transform 0.2s",o.addEventListener("mouseenter",(function(e){e.currentTarget.style.transform="scale(1.05)"})),o.addEventListener("mouseleave",(function(e){e.currentTarget.style.transform="scale(1)"})),o.addEventListener("click",(function(n){n.preventDefault(),console.log(e),r.response.answers[t.id]=e})),n.appendChild(o)})),t.appendChild(n)}(n,l);break;case"Ranking":!function(e,t){var n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="flex-start",n.style.width="100%",n.style.flexWrap="wrap",e.items.forEach((function(e){var t=function(e){var t=document.createElement("button");return t.style.padding="8px",t.style.border="1px solid #d1d5db",t.style.textAlign="start",t.style.borderRadius="0.375rem",t.style.marginRight="0.5rem",t.style.marginBottom="0.5rem",t.style.width="100%",t.textContent=e,t}(e);n.appendChild(t)})),t.appendChild(n)}(n,l);break;case"Rating":!function(e,t){var n=document.createElement("div");n.style.display="flex",n.style.gap="8px";for(var a=function(a){var s=document.createElement("span");if(s.setAttribute("key",String(a)),s.style.fontSize="1.5rem",s.style.marginRight="0.5rem",s.style.cursor="pointer",s.style.transform="scale(1)",s.style.transition="transform 0.2s",e.useEmoji)s.textContent=o(a);else{var l=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("fill","none"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("stroke-width","1.5"),e.setAttribute("stroke","currentColor"),e.setAttribute("class","w-8 h-8");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t.setAttribute("d","M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.040.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.610l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.610l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"),e.appendChild(t),e}();s.appendChild(l)}s.addEventListener("mouseenter",(function(e){e.currentTarget.style.transform="scale(1.2)"})),s.addEventListener("mouseleave",(function(e){e.currentTarget.style.transform="scale(1)"})),s.addEventListener("click",(function(e){console.log("Selected rating: ".concat(a)),r.response.answers[t.id]=a})),n.appendChild(s)},s=1;s<=5;s++)a(s);t.appendChild(n)}(n,l);break;case"Dropdown":!function(e,t){var n=document.createElement("select");n.style.width="100%",n.style.padding="8px",n.style.borderRadius="4px",n.style.background="none",n.style.border="1px solid #ddd",e.options.forEach((function(e){var t=document.createElement("option");t.value=e,t.textContent=e,n.appendChild(t)})),n.addEventListener("change",(function(e){console.log(e.target.value),r.response.answers[t.id]=e.target.value})),t.appendChild(n)}(n,l)}return l}(e);r.response.answers[e.questionId]="",c.appendChild(t)}));var f,p=function(){var e=this,o=document.createElement("button");return o.textContent="Submit",o.style.padding="10px 20px",o.style.border="none",o.style.backgroundColor="#4caf50",o.style.color="white",o.style.cursor="pointer",o.style.borderRadius="4px",o.style.width="100%",o.style.marginTop="32px",o.style.fontWeight="600",o.addEventListener("mouseover",(function(){o.style.backgroundColor="#45a049"})),o.addEventListener("mouseout",(function(){o.style.backgroundColor="#4caf50"})),o.addEventListener("click",(function(o){return t(e,void 0,void 0,(function(){return n(this,(function(e){return o.preventDefault(),console.log("Button clicked!",r),fetch("/api/feedbacks",{method:"POST",body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error(e)})),[2]}))}))})),o}();c.appendChild(p),c.appendChild(((f=document.createElement("div")).id="okfeedback-powered-by",f.innerHTML='powered by <a href="https://www.okfeedback.io" style="color: blue;font-weight: 600;" target="_blank" >Okfeedback.io</a>',f.style.fontSize="10px",f)),d.appendChild(c);var y=document.createElement("p");y.textContent=l,y.id="okfeedback-survey-form-greeting",y.style.display="none",d.appendChild(y)}else console.error("Survey container not found.")}}()}})[737]();
//# sourceMappingURL=survey.bundle.js.map